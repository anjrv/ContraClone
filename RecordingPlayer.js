//  RecordingPlayer class that can provide dt values to the _update_clocks routine in main
// and simultanuously set all the pressed down keys to true

// Constructor
function RecordingPlayer() {
  this.frame_count = 0;
  this.keys = [];
  this.xml = `<recording><entities xmlns="http://www.w3.org/1999/xhtml"><entity type="Player" posx="458.13075371289534" posy="362" velx="-8.381235035015687" vely="1045.336763470538"></entity></entities><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.73399999999674</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.668000000001484</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.636999999998807</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.679000000000087</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.659999999999854</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.56999999999971</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.772000000000844</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.64099999999962</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.63800000000265</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.61999999999898</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.703999999997905</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.536000000000058</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.788000000000466</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.675999999999476</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.663000000000466</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.530000000002474</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.674999999999272</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.76599999999962</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.54399999999805</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.75</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.70100000000093</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.702000000001135</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.639999999999418</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.59900000000198</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.581999999998516</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.847999999998137</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.445999999999913</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.81300000000192</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.64099999999962</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.677999999999884</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.639999999999418</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.512000000002445</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.786000000000058</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.761999999998807</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.60900000000038</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.705999999998312</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.60200000000259</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.66899999999805</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.632000000001426</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.54699999999866</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.614000000001397</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.855999999999767</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.664999999997235</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.65400000000227</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.57300000000032</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.770000000000437</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.531999999999243</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.75300000000061</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.683999999997468</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.641999999999825</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.60699999999997</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.773000000001048</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.600000000002183</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.485999999997148</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.818999999999505</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.551000000003114</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.739999999997963</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.715000000000146</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.67699999999968</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.47200000000157</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.684000000001106</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.78599999999642</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.684000000001106</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.62800000000061</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.662000000000262</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.506000000001222</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.894000000000233</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.620999999999185</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.580999999998312</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.730999999999767</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.489000000001397</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.845000000001164</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.521999999997206</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.80199999999968</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.676000000003114</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.649999999997817</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.53399999999965</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.752000000000407</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.677999999999884</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.54899999999907</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.79500000000189</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.66400000000067</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.53900000000067</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.794999999998254</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.59100000000035</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.584999999999127</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.812000000001717</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.45799999999872</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.808000000000902</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.647000000000844</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.570999999999913</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.82499999999709</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.57300000000032</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.588999999999942</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.644000000000233</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.875</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.604999999999563</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.6050000000032</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.679999999996653</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.692000000002736</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.747999999999593</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.574000000000524</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.664999999997235</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.608000000000175</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.69000000000233</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.68000000000029</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.601999999998952</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.747999999999593</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.462999999999738</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.78900000000067</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.65899999999965</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.674999999999272</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.69499999999971</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.483000000000175</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.80500000000029</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.618000000002212</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.604999999999563</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.766999999999825</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.65099999999802</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.699000000000524</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.626000000000204</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.60699999999997</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.73199999999997</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.665000000000873</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.654999999998836</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.52900000000227</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.65099999999802</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.659999999999854</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.790000000000873</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.65899999999965</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.666000000001077</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.69800000000032</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.55500000000029</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.64799999999741</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.799999999999272</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.59700000000157</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.580999999998312</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.72200000000157</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.574000000000524</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.66700000000128</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.66599999999744</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.806000000000495</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.60699999999997</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.686000000001513</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.681000000000495</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.635999999998603</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.663000000000466</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.541999999997643</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.78200000000288</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.536000000000058</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.80199999999968</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.58299999999872</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.78900000000067</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.61200000000099</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.65899999999965</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.526999999998225</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.83100000000195</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.574000000000524</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.735999999997148</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.42699999999968</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.963000000003376</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.566999999999098</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.59599999999773</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.72700000000259</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.666999999997643</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.687000000001717</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.617999999998574</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.67399999999907</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.531000000002678</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.672999999998865</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.809000000001106</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.608000000000175</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.68499999999767</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.684000000001106</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.6150000000016</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.485999999997148</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.837999999999738</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.681000000000495</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.675999999999476</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.62000000000262</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.485000000000582</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.823999999996886</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.702000000001135</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.689000000002125</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.630999999997584</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.659999999999854</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.566000000002532</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.66899999999805</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.772000000000844</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.550999999999476</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.756000000001222</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.745999999999185</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.60900000000038</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.54699999999866</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.575000000000728</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.82300000000032</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.48899999999776</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.908000000003085</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.466999999996915</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.68500000000131</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.786000000000058</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.562000000001717</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.58599999999933</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.861000000000786</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.6449999999968</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.570000000003347</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.672999999998865</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.523000000001048</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.820999999999913</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.65899999999965</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.68000000000029</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.55999999999767</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.762000000002445</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.65899999999965</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.659999999999854</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.520000000000437</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.85699999999997</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.554000000000087</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.67199999999866</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.708999999998923</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.655000000002474</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.695999999999913</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.628999999997177</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.502000000000407</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.83100000000195</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.510999999998603</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.7400000000016</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.77799999999843</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.60099999999875</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.512000000002445</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.83599999999933</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.635999999998603</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.661000000000058</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.729000000002998</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.59099999999671</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.687000000001717</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.52799999999843</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.770000000000437</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.645000000000437</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.56300000000192</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.64300000000003</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.784999999999854</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.653999999998632</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.65899999999965</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.656999999999243</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.595000000001164</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.733000000000175</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.516999999999825</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.918000000001484</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.55500000000029</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.50199999999677</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.882000000001426</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.584999999999127</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.686000000001513</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.560999999997875</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.83100000000195</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.592000000000553</dt><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.682999999997264</dt><key>A</key><key>D</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.618000000002212</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.534999999999854</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.6929999999993</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.83100000000195</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.631999999997788</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.631000000001222</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.663000000000466</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.727999999999156</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.629000000000815</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.625</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.524999999997817</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.80199999999968</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.470000000001164</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.832000000002154</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.67199999999866</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.665000000000873</dt><key>A</key></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.622999999999593</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.68000000000029</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.68000000000029</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.6349999999984</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.520000000000437</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.644000000000233</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.717000000000553</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.625</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.870999999999185</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.562999999998283</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.775000000001455</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.605999999999767</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.5099999999984</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.806000000000495</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.498999999999796</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.614000000001397</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.75300000000061</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.747999999999593</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.690999999998894</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.52400000000125</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.842000000000553</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.620999999999185</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.587999999999738</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.727999999999156</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.58400000000256</dt></timeframe><timeframe xmlns="http://www.w3.org/1999/xhtml"><dt>16.705999999998312</dt><key>8</key></timeframe></recording>
  `;
  let parser = new DOMParser();
  let xml_object = parser.parseFromString(this.xml, 'text/xml');
  this.timestamps = xml_object.getElementsByTagName('timeframe');
  this.entities = xml_object.getElementsByTagName('entities')[0];
}

// Request that the player moves to the next frame
// Has to be seperate because the update is sometimes paused but the clocks are still 
// update-ing
RecordingPlayer.prototype.nextFrame = function () {
  this.frame_count++;
}

// Returns the dt value for the current frame
RecordingPlayer.prototype.getNextFrameDelta_ms = function() {
  if (this.frame_count === 0) entityManager.restoreEntities(this.entities);
  // When the recording is over we turn off the recording and reset the framecount to 0
  if (this.frame_count >= this.timestamps.length) {
    this.cleanupKeys();
    this.frame_count = 0;
    g_play_recording = false;
    return NOMINAL_UPDATE_INTERVAL;
  }

  let dt = this.timestamps[this.frame_count]
    .getElementsByTagName('dt')[0]
    .innerHTML;
  dt = dt.replace(/\u200B/g, '');
  return Number.parseFloat(dt);
}

// Updates the global keys array so that the correct keys are in the pressed down state 
// for the current frame
RecordingPlayer.prototype.setKeys = function () {
  // We are manipulating the keys arrays and have to clean up after ourselves
  this.cleanupKeys();

  let keys_this_frame = this.timestamps[this.frame_count]
    .getElementsByTagName('key');

  for (let i = 0; i < keys_this_frame.length; i++) {
    let key = keys_this_frame[i].innerHTML;
    key = key.replace(/\u200B/g, '');
    keys[keyCode(key)] = true;
    this.keys.push(keyCode(key));
  }
}

// Sets all the keys we have explicitly set to true back to false 
// Prevents contamination of input between frames
RecordingPlayer.prototype.cleanupKeys = function () {
  for (let i = this.keys.length - 1; i >= 0; i--) {
    keys[this.keys[i]] = false;
    this.keys.splice(i, 1);
  }
}

const RECORDINGPLAYER = new RecordingPlayer();